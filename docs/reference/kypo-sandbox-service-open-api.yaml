swagger: '2.0'
info:
  title: KYPO2 OpenStack REST API documentation
  description: ''
  version: "Version: 0.6.6"
host: localhost:3000
schemes:
  - http
basePath: /kypo-sandbox-service/api/v1
consumes:
  - application/json
produces:
  - application/json
securityDefinitions:
  Basic:
    type: basic
security:
  - Basic: []
paths:
  /allocation-requests/{request_id}:
    get:
      operationId: allocation-requests_read
      description: Retrieve a Sandbox Allocation Request.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/AllocationRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/cancel:
    patch:
      operationId: allocation-requests_cancel_partial_update
      description: Cancel given Allocation Request. Returns no data if OK (200).
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/AllocationRequest'
      responses:
        '200':
          description: ''
          schema:
            type: object
            properties: {}
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/networking-ansible:
    get:
      operationId: allocation-requests_stages_networking-ansible_read
      description: Retrieve a `Networking Ansible` Allocation stage.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/NetworkingAnsibleAllocationStage'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/networking-ansible/outputs:
    get:
      operationId: allocation-requests_stages_networking-ansible_outputs_list
      description: Retrieve a list of Ansible Outputs.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/AnsibleOutput'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/openstack:
    get:
      operationId: allocation-requests_stages_openstack_read
      description: |-
        Retrieve an `openstack` allocation stage.
        Null `status` and `status_reason` attributes mean, that stack does not have them;
        AKA it does not exist in OpenStack.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/OpenstackAllocationStage'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/openstack/events:
    get:
      operationId: allocation-requests_stages_openstack_events_list
      description: List sandbox Events.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/SandboxEvent'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/openstack/resources:
    get:
      operationId: allocation-requests_stages_openstack_resources_list
      description: List sandbox Resources.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/SandboxResource'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/user-ansible:
    get:
      operationId: allocation-requests_stages_user-ansible_read
      description: Retrieve a `User Ansible` Allocation stage.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/UserAnsibleAllocationStage'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /allocation-requests/{request_id}/stages/user-ansible/outputs:
    get:
      operationId: allocation-requests_stages_user-ansible_outputs_list
      description: Retrieve a list of Ansible Outputs.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/AnsibleOutput'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - allocation-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /cleanup-requests/{request_id}:
    get:
      operationId: cleanup-requests_read
      description: Retrieve a Sandbox Cleanup Request.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/CleanupRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - cleanup-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /cleanup-requests/{request_id}/cancel:
    patch:
      operationId: cleanup-requests_cancel_partial_update
      description: Cancel given Cleanup Request. Returns no data if OK (200).
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/CleanupRequest'
      responses:
        '200':
          description: ''
          schema:
            type: object
            properties: {}
      tags:
        - cleanup-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /cleanup-requests/{request_id}/stages/networking-ansible:
    get:
      operationId: cleanup-requests_stages_networking-ansible_read
      description: Retrieve a `Networking Ansible` Cleanup stage.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/NetworkingAnsibleCleanupStage'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - cleanup-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /cleanup-requests/{request_id}/stages/openstack:
    get:
      operationId: cleanup-requests_stages_openstack_read
      description: Retrieve an `openstack` Cleanup stage.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/OpenstackCleanupStage'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - cleanup-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /cleanup-requests/{request_id}/stages/user-ansible:
    get:
      operationId: cleanup-requests_stages_user-ansible_read
      description: Retrieve a `User Ansible` Cleanup stage.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/UserAnsibleCleanupStage'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - cleanup-requests
    parameters:
      - name: request_id
        in: path
        required: true
        type: string
  /definitions:
    get:
      operationId: definitions_list
      description: Retrieve a list of sandbox definitions.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/Definition'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - definitions
    post:
      operationId: definitions_create
      description: Create a new sandbox definition. Optional parameter *rev* defaults
        to master.
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/Definition'
      responses:
        '201':
          description: ''
          schema:
            $ref: '#/definitions/Definition'
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - definitions
    parameters: []
  /definitions/{definition_id}:
    get:
      operationId: definitions_read
      description: Retrieve the definition.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Definition'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - definitions
    delete:
      operationId: definitions_delete
      description: |-
        Delete the definition.
        There can't exist a pool associated with this definition or delete fails.
      parameters: []
      responses:
        '204':
          description: ''
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - definitions
    parameters:
      - name: definition_id
        in: path
        required: true
        type: string
  /definitions/{definition_id}/refs:
    get:
      operationId: definitions_refs_list
      description: Retrieve a list of definition refs (branches and tags).
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/DefinitionRev'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - definitions
    parameters:
      - name: definition_id
        in: path
        required: true
        type: string
  /images:
    get:
      operationId: images_list
      description: Get list of images.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
      tags:
        - cloud
    parameters: []
  /info:
    get:
      operationId: info_list
      description: Get the quota set and name of project.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
      tags:
        - cloud
    parameters: []
  /pools:
    get:
      operationId: pools_list
      description: Get a list of pools.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/Pool'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    post:
      operationId: pools_create
      description: |-
        Creates new pool.
        Also creates a new key-pair in OpenStack for this pool.
        It is then used as management key for this pool. That means that
        the management key-pair is the same for each sandbox in the pool.
        Parameter `rev` is optional. Defaults to definition rev.
        If ref is a branch, uses current HEAD.
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/Pool'
      responses:
        '201':
          description: ''
          schema:
            $ref: '#/definitions/Pool'
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters: []
  /pools/{pool_id}:
    get:
      operationId: pools_read
      description: Retrieve a pool.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Pool'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    delete:
      operationId: pools_delete
      description: |-
        Delete pool. The pool must be empty.
        First delete all sandboxes in given Pool.
      parameters: []
      responses:
        '204':
          description: ''
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/allocation-requests:
    get:
      operationId: pools_allocation-requests_list
      description: List Allocation Request for this pool.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/AllocationRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/cleanup-requests:
    get:
      operationId: pools_cleanup-requests_list
      description: List Cleanup Request for this pool.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/CleanupRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/definition:
    get:
      operationId: pools_definition_read
      description: Retrieve the definition associate with a pool.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Definition'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/locks:
    get:
      operationId: pools_locks_list
      description: List locks for given pool.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/PoolLock'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    post:
      operationId: pools_locks_create
      description: Lock given pool.
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/PoolLock'
      responses:
        '201':
          description: ''
          schema:
            $ref: '#/definitions/PoolLock'
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/locks/{lock_id}:
    get:
      operationId: pools_locks_read
      description: ''
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/PoolLock'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    delete:
      operationId: pools_locks_delete
      description: Delete given lock.
      parameters: []
      responses:
        '204':
          description: ''
      tags:
        - pools
    parameters:
      - name: lock_id
        in: path
        required: true
        type: string
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/management-ssh-access:
    get:
      operationId: pools_management-ssh-access_list
      description: |-
        Generate SSH config for User access to this sandbox.
        Some values are user specific, the config contains placeholders for them.
      parameters: []
      responses:
        '200':
          description: ''
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/sandbox-allocation-units:
    get:
      operationId: pools_sandbox-allocation-units_list
      description: Get a list of Sandbox Allocation Units.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/SandboxAllocationUnit'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    post:
      operationId: pools_sandbox-allocation-units_create
      description: |-
        Create Sandbox Allocation Unit.
        For each Allocation Unit the Allocation Request is created in given pool.
        If count is not specified, builds *max_size - current size*.
        Query Parameters:
        - *count:* How many sandboxes to build. Optional (defaults to max_size - current size).
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/SandboxAllocationUnit'
        - name: count
          in: query
          description: Sandbox count parameter
          type: integer
      responses:
        '201':
          description: ''
          schema:
            type: array
            items:
              $ref: '#/definitions/SandboxAllocationUnit'
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    delete:
      operationId: pools_sandbox-allocation-units_delete
      description: |-
        Delete all Sandbox Allocation Units in pool.
        __NOTE:__ The sandboxes associated with the Allocation units cannot be locked,
        or the call fails.
      parameters: []
      responses:
        '202':
          description: ''
          schema:
            type: array
            items:
              $ref: '#/definitions/CleanupRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/sandboxes:
    get:
      operationId: pools_sandboxes_list
      description: Get a list of sandboxes in given pool.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/Sandbox'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /pools/{pool_id}/sandboxes/get-and-lock:
    get:
      operationId: pools_sandboxes_get-and-lock_read
      description: Get unlocked sandbox in given pool and lock it. Return 409 if all
        are locked.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Sandbox'
        '409':
          description: No free sandboxes; all sandboxes are locked.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - pools
    parameters:
      - name: pool_id
        in: path
        required: true
        type: string
  /sandbox-allocation-units/{unit_id}:
    get:
      operationId: sandbox-allocation-units_read
      description: Retrieve a Sandbox Allocation Unit.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/SandboxAllocationUnit'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandbox-allocation-units
    parameters:
      - name: unit_id
        in: path
        required: true
        type: string
  /sandbox-allocation-units/{unit_id}/allocation-request:
    get:
      operationId: sandbox-allocation-units_allocation-request_read
      description: |-
        Retrieve a Sandbox Allocation Request for an Allocation Unit.
        Each Allocation Unit has exactly one Allocation Request.
        (There may occur a situation where it has none, then it returns 404.)
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/AllocationRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandbox-allocation-units
    parameters:
      - name: unit_id
        in: path
        required: true
        type: string
  /sandbox-allocation-units/{unit_id}/cleanup-request:
    get:
      operationId: sandbox-allocation-units_cleanup-request_read
      description: |-
        Retrieve a Sandbox Cleanup Request for an Allocation Unit.
        Each Allocation Unit has at most one Allocation Request.
        If it has none, then it returns 404.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/CleanupRequest'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandbox-allocation-units
    post:
      operationId: sandbox-allocation-units_cleanup-request_create
      description: Create cleanup request..
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/CleanupRequest'
      responses:
        '201':
          description: ''
          schema:
            $ref: '#/definitions/CleanupRequest'
      tags:
        - sandbox-allocation-units
    delete:
      operationId: sandbox-allocation-units_cleanup-request_delete
      description: Delete cleanup request. Must be finished or cancelled.
      parameters: []
      responses:
        '204':
          description: ''
      tags:
        - sandbox-allocation-units
    parameters:
      - name: unit_id
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}:
    get:
      operationId: sandboxes_read
      description: Retrieve a sandbox.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Sandbox'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    parameters:
      - name: sandbox_id
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}/locks:
    get:
      operationId: sandboxes_locks_list
      description: List locks for given sandbox.
      parameters:
        - name: page
          in: query
          description: A page number within the paginated result set.
          required: false
          type: integer
        - name: page_size
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
      responses:
        '200':
          description: ''
          schema:
            required:
              - results
              - count
            type: object
            properties:
              page:
                type: integer
              page_size:
                type: integer
              page_count:
                type: integer
              count:
                type: integer
                format: uri
              total_count:
                type: integer
                format: uri
              results:
                type: array
                items:
                  $ref: '#/definitions/SandboxLock'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    post:
      operationId: sandboxes_locks_create
      description: Lock given sandbox.
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/SandboxLock'
      responses:
        '201':
          description: ''
          schema:
            $ref: '#/definitions/SandboxLock'
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    parameters:
      - name: sandbox_id
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}/locks/{lock_id}:
    get:
      operationId: sandboxes_locks_read
      description: ''
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/SandboxLock'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    delete:
      operationId: sandboxes_locks_delete
      description: Delete given lock.
      parameters: []
      responses:
        '204':
          description: ''
      tags:
        - sandboxes
    parameters:
      - name: lock_id
        in: path
        required: true
        type: string
      - name: sandbox_id
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}/topology:
    get:
      operationId: sandboxes_topology_list
      description: |-
        Get topology data for given sandbox.
        Hosts specified as hidden are filtered out, but the network is still visible.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            type: array
            items:
              $ref: '#/definitions/Topology'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    parameters:
      - name: sandbox_id
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}/user-ssh-access:
    get:
      operationId: sandboxes_user-ssh-access_list
      description: |-
        Generate SSH config for User access to this sandbox.
        Some values are user specific, the config contains placeholders for them.
      parameters: []
      responses:
        '200':
          description: ''
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    parameters:
      - name: sandbox_id
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}/vms/{vm_name}:
    get:
      operationId: sandboxes_vms_read
      description: |-
        Retrieve a VM info.
        Important Statuses:
        - ACTIVE (vm is active and running)
        - REBOOT (vm rebooting)
        - SUSPENDED (vm suspended)
        - ... https://developer.openstack.org/api-guide/compute/server_concepts.html#server-status
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            $ref: '#/definitions/Node'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    patch:
      operationId: sandboxes_vms_partial_update
      description: |-
        Perform specified action on given VM.
        Available actions are:
        - suspend
        - resume
        - reboot
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/NodeAction'
      responses:
        '200':
          description: ''
          schema:
            type: object
            properties: {}
        '400':
          description: Client sent invalid data.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    parameters:
      - name: sandbox_id
        in: path
        required: true
        type: string
      - name: vm_name
        in: path
        required: true
        type: string
  /sandboxes/{sandbox_id}/vms/{vm_name}/console:
    get:
      operationId: sandboxes_vms_console_list
      description: |-
        Get a console for given machine. It is active for 2 hours.
        But when the connection is active, it does not disconnect.
      parameters: []
      responses:
        '200':
          description: ''
          schema:
            type: array
            items:
              $ref: '#/definitions/NodeConsole'
        '401':
          description: Authentication failed.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '403':
          description: You do not have permission to perform this action.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '404':
          description: Resource not found.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
        '500':
          description: Server encountered an unexpected error.
          schema:
            $ref: '#/definitions/ErrorSerilizer'
      tags:
        - sandboxes
    parameters:
      - name: sandbox_id
        in: path
        required: true
        type: string
      - name: vm_name
        in: path
        required: true
        type: string
definitions:
  AllocationRequest:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      allocation_unit_id:
        title: Allocation unit id
        type: integer
        readOnly: true
      created:
        title: Created
        type: string
        format: date-time
        readOnly: true
  ErrorSerilizer:
    required:
      - detail
    type: object
    properties:
      detail:
        title: Detail
        description: String message describing the error.
        type: string
        minLength: 1
  NetworkingAnsibleAllocationStage:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      request_id:
        title: Request id
        type: integer
        readOnly: true
      start:
        title: Start
        description: Timestamp indicating when the stage execution started.
        type: string
        format: date-time
        readOnly: true
      end:
        title: End
        description: Timestamp indicating when the stage execution ended.
        type: string
        format: date-time
        readOnly: true
      failed:
        title: Failed
        description: Indicates whether the stage execution failed.
        type: boolean
        readOnly: true
      error_message:
        title: Error message
        description: Error message describing the potential error.
        type: string
        readOnly: true
        minLength: 1
      repo_url:
        title: Repo url
        description: URL of the Ansible repository.
        type: string
        readOnly: true
        minLength: 1
      rev:
        title: Rev
        description: Revision of the Ansible repository.
        type: string
        readOnly: true
        minLength: 1
  AnsibleOutput:
    type: object
    properties:
      content:
        title: Content
        type: string
        readOnly: true
        minLength: 1
  OpenstackAllocationStage:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      request_id:
        title: Request id
        type: integer
        readOnly: true
      start:
        title: Start
        description: Timestamp indicating when the stage execution started.
        type: string
        format: date-time
        readOnly: true
      end:
        title: End
        description: Timestamp indicating when the stage execution ended.
        type: string
        format: date-time
        readOnly: true
      failed:
        title: Failed
        description: Indicates whether the stage execution failed.
        type: boolean
        readOnly: true
      error_message:
        title: Error message
        description: Error message describing the potential error.
        type: string
        readOnly: true
        minLength: 1
      status:
        title: Status
        description: Stack status
        type: string
        readOnly: true
        minLength: 1
      status_reason:
        title: Status reason
        description: Stack status reason
        type: string
        readOnly: true
        minLength: 1
  SandboxEvent:
    required:
      - time
      - name
      - status
      - status_reason
    type: object
    properties:
      time:
        title: Time
        type: string
        minLength: 1
      name:
        title: Name
        type: string
        minLength: 1
      status:
        title: Status
        type: string
        minLength: 1
      status_reason:
        title: Status reason
        type: string
        minLength: 1
  SandboxResource:
    required:
      - name
      - type
      - status
    type: object
    properties:
      name:
        title: Name
        type: string
        minLength: 1
      type:
        title: Type
        type: string
        minLength: 1
      status:
        title: Status
        type: string
        minLength: 1
  UserAnsibleAllocationStage:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      request_id:
        title: Request id
        type: integer
        readOnly: true
      start:
        title: Start
        description: Timestamp indicating when the stage execution started.
        type: string
        format: date-time
        readOnly: true
      end:
        title: End
        description: Timestamp indicating when the stage execution ended.
        type: string
        format: date-time
        readOnly: true
      failed:
        title: Failed
        description: Indicates whether the stage execution failed.
        type: boolean
        readOnly: true
      error_message:
        title: Error message
        description: Error message describing the potential error.
        type: string
        readOnly: true
        minLength: 1
      repo_url:
        title: Repo url
        description: URL of the Ansible repository.
        type: string
        readOnly: true
        minLength: 1
      rev:
        title: Rev
        description: Revision of the Ansible repository.
        type: string
        readOnly: true
        minLength: 1
  CleanupRequest:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      allocation_unit_id:
        title: Allocation unit id
        type: integer
        readOnly: true
      created:
        title: Created
        type: string
        format: date-time
        readOnly: true
  NetworkingAnsibleCleanupStage:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      request_id:
        title: Request id
        type: integer
        readOnly: true
      start:
        title: Start
        description: Timestamp indicating when the stage execution started.
        type: string
        format: date-time
        readOnly: true
      end:
        title: End
        description: Timestamp indicating when the stage execution ended.
        type: string
        format: date-time
        readOnly: true
      failed:
        title: Failed
        description: Indicates whether the stage execution failed.
        type: boolean
        readOnly: true
      error_message:
        title: Error message
        description: Error message describing the potential error.
        type: string
        readOnly: true
        minLength: 1
      allocation_stage_id:
        title: Allocation stage id
        type: string
        readOnly: true
  OpenstackCleanupStage:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      request_id:
        title: Request id
        type: integer
        readOnly: true
      start:
        title: Start
        description: Timestamp indicating when the stage execution started.
        type: string
        format: date-time
        readOnly: true
      end:
        title: End
        description: Timestamp indicating when the stage execution ended.
        type: string
        format: date-time
        readOnly: true
      failed:
        title: Failed
        description: Indicates whether the stage execution failed.
        type: boolean
        readOnly: true
      error_message:
        title: Error message
        description: Error message describing the potential error.
        type: string
        readOnly: true
        minLength: 1
      allocation_stage_id:
        title: Allocation stage id
        type: string
        readOnly: true
  UserAnsibleCleanupStage:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      request_id:
        title: Request id
        type: integer
        readOnly: true
      start:
        title: Start
        description: Timestamp indicating when the stage execution started.
        type: string
        format: date-time
        readOnly: true
      end:
        title: End
        description: Timestamp indicating when the stage execution ended.
        type: string
        format: date-time
        readOnly: true
      failed:
        title: Failed
        description: Indicates whether the stage execution failed.
        type: boolean
        readOnly: true
      error_message:
        title: Error message
        description: Error message describing the potential error.
        type: string
        readOnly: true
        minLength: 1
      allocation_stage_id:
        title: Allocation stage id
        type: string
        readOnly: true
  Definition:
    required:
      - url
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      name:
        title: Name
        description: Name of the definition.
        type: string
        readOnly: true
        minLength: 1
      url:
        title: Url
        description: URL of the definition.
        type: string
        minLength: 1
      rev:
        title: Rev
        description: Default revision.
        type: string
        minLength: 1
  DefinitionRev:
    required:
      - name
    type: object
    properties:
      name:
        title: Name
        type: string
        minLength: 1
  Pool:
    required:
      - definition_id
      - max_size
      - rev
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      definition_id:
        title: Definition id
        type: integer
      size:
        title: Size
        description: Number of allocation units associated with this pool.
        type: integer
        readOnly: true
      max_size:
        title: Max size
        description: Maximum amount of Allocation Units associated with this pool.
        type: integer
        maximum: 2147483647
        minimum: -2147483648
      lock_id:
        title: Lock id
        type: integer
        readOnly: true
      rev:
        title: Rev
        description: Definition revision used for sandboxes.
        type: string
        minLength: 1
      rev_sha:
        title: Rev sha
        description: SHA of the Definition revision.
        type: string
        readOnly: true
        minLength: 1
  PoolLock:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      pool_id:
        title: Pool id
        type: integer
        readOnly: true
  SandboxAllocationUnit:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      pool_id:
        title: Pool id
        type: integer
        readOnly: true
      allocation_request:
        $ref: '#/definitions/AllocationRequest'
  Sandbox:
    type: object
    properties:
      id:
        title: Id
        type: integer
        readOnly: true
      lock_id:
        title: Lock id
        type: integer
        readOnly: true
      allocation_unit_id:
        title: Allocation unit id
        type: integer
        readOnly: true
  SandboxLock:
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      sandbox_id:
        title: Sandbox id
        type: integer
        readOnly: true
  LibHost:
    required:
      - name
    type: object
    properties:
      name:
        title: Name
        type: string
        minLength: 1
  LibRouter:
    required:
      - name
      - cidr
    type: object
    properties:
      name:
        title: Name
        type: string
        minLength: 1
      cidr:
        title: Cidr
        type: string
        minLength: 1
  LibNetwork:
    required:
      - name
      - cidr
    type: object
    properties:
      name:
        title: Name
        type: string
        minLength: 1
      cidr:
        title: Cidr
        type: string
        minLength: 1
  Link:
    type: object
    properties:
      port_a:
        title: Port a
        type: string
        readOnly: true
      port_b:
        title: Port b
        type: string
        readOnly: true
  Port:
    required:
      - ip
      - mac
      - parent
      - name
    type: object
    properties:
      ip:
        title: Ip
        type: string
        minLength: 1
      mac:
        title: Mac
        type: string
        minLength: 1
      parent:
        title: Parent
        type: string
        minLength: 1
      name:
        title: Name
        type: string
        minLength: 1
  Topology:
    required:
      - hosts
      - routers
      - switches
      - links
      - ports
    type: object
    properties:
      hosts:
        type: array
        items:
          $ref: '#/definitions/LibHost'
      routers:
        type: array
        items:
          $ref: '#/definitions/LibRouter'
      switches:
        type: array
        items:
          $ref: '#/definitions/LibNetwork'
      links:
        type: array
        items:
          $ref: '#/definitions/Link'
      ports:
        type: array
        items:
          $ref: '#/definitions/Port'
  Node:
    required:
      - name
      - id
      - status
      - creation_time
      - update_time
      - image_id
      - flavor_name
    type: object
    properties:
      name:
        title: Name
        type: string
        minLength: 1
      id:
        title: Id
        type: string
        minLength: 1
      status:
        title: Status
        type: string
        minLength: 1
      creation_time:
        title: Creation time
        type: string
        format: date-time
      update_time:
        title: Update time
        type: string
        format: date-time
      image_id:
        title: Image id
        type: string
        minLength: 1
      flavor_name:
        title: Flavor name
        type: string
        minLength: 1
  NodeAction:
    required:
      - action
    type: object
    properties:
      action:
        title: Action
        description: Action you with to perform on the node.
        type: string
        enum:
          - suspend
          - resume
          - reboot
  NodeConsole:
    required:
      - url
    type: object
    properties:
      url:
        title: Url
        type: string
        minLength: 1
